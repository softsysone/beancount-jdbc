<?xml version="1.0" encoding="UTF-8"?>
<drivers>
    <provider id="generic">
        <driver
            id="7B81473F-1901-FA3E-1BA8-7CDE24494373"
            name="Beancount JDBC (Testing)"
            class="com.beancount.jdbc.BeancountDriver"
            url="jdbc:beancount:{file}"
            custom="true">

            <!-- Runtime dependencies folder, relative to the testing workspace:
                 workspace = beancount-jdbc/tools/dbeaver
                 repo root = ${workspace}/../..
            -->
            <library
                type="jar"
                path="${workspace}/../../jdbc/build/runtime-libs"
                custom="true"/>

            <!-- Main Beancount JDBC jar, with version taken from env var BEANCOUNT_JDBC_VERSION -->
            <library
                type="jar"
                path="${workspace}/../../jdbc/build/libs/beancount-jdbc-${BEANCOUNT_JDBC_VERSION}.jar"
                custom="true"/>

            <!-- Driver capability parameters (copied from your original definition) -->
            <parameter name="read-only-data" value="false"/>
            <parameter name="supports-indexes" value="true"/>
            <parameter name="all-objects-pattern" value="%"/>
            <parameter name="quote-reserved-words" value="true"/>
            <parameter name="omit-schema" value="false"/>
            <parameter name="supports-table-constraints" value="true"/>
            <parameter name="schema-filters-enabled" value="false"/>
            <parameter name="supports-delimiter-in-views" value="true"/>
            <parameter name="supports-embedded-database-creation" value="true"/>
            <parameter name="supports-struct-cache" value="true"/>
            <parameter name="supports-truncate" value="true"/>
            <parameter name="read-only-meta-data" value="false"/>
            <parameter name="omit-type-cache" value="false"/>
            <parameter name="split-procedures-and-functions" value="false"/>
            <parameter name="supports-stored-code" value="true"/>
            <parameter name="supports-references" value="true"/>
            <parameter name="supports-multi-insert" value="false"/>
            <parameter name="omit-catalog-name" value="false"/>
            <parameter name="supports-catalog-selection" value="true"/>
            <parameter name="omit-single-catalog" value="false"/>
            <parameter name="ddl-drop-column-brackets" value="false"/>
            <parameter name="omit-single-schema" value="false"/>
            <parameter name="supports-scroll" value="false"/>
            <parameter name="omit-catalog" value="false"/>
            <parameter name="supports-views" value="true"/>
            <parameter name="script-delimiter" value=";"/>
            <parameter name="legacy-sql-dialect" value="false"/>
            <parameter name="script-delimiter-after-query" value="false"/>
            <parameter name="use-search-string-escape" value="false"/>
            <parameter name="supports-multiple-results" value="false"/>
            <parameter name="script-delimiter-after-block" value="false"/>
            <parameter name="supports-schema-selection" value="true"/>
            <parameter name="alter-table-add-column" value="false"/>
            <parameter name="ddl-drop-column-short" value="false"/>
            <parameter name="supports-limits" value="true"/>
            <parameter name="supports-select-count" value="true"/>
            <parameter icon="platform:/plugin/org.jkiss.dbeaver.model/icons/connection/database_icon.svg"/>
        </driver>
    </provider>
</drivers>
