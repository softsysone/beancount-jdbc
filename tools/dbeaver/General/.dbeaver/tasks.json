{
	"400237ca-eff4-4f52-be46-d1058608d736": {
		"task": "dataExport",
		"label": "task_diff_check",
		"description": "",
		"createTime": "202511231700",
		"updateTime": "202511231700",
		"state": {
			"producers": [
				{
					"type": "databaseTransferProducer",
					"location": {
						"type": "query",
						"project": "General",
						"dataSource": "7B81473F-1901-FA3E-1BA8-7CDE24494373-19ab3499582-df49e742ae3e678",
						"query": "/*************************************************************\r\n * Differences between jdbc and bean-sql sqlite tables/views *\r\n * - Run as a whole for counts                               *\r\n * - Run individual CTEs for details                         *\r\n *************************************************************/\r\n\r\n\r\nCREATE FOREIGN SCHEMA sqlite\r\n  TYPE \u0027jdbc\u0027\r\n  OPTIONS (\r\n    jdbcDriver \u0027org.sqlite.JDBC\u0027,\r\n    jdbcUrl    \u0027jdbc:sqlite:${workspace}/../jdbc/src/test/resources/regression/bean_sql/${db_name}.sqlite\u0027,\r\n    sqlDialectFactory \u0027com.beancount.jdbc.calcite.sqlite.BeancountSqliteDialectFactory\u0027\r\n  )"
					}
				},
				{
					"type": "databaseTransferProducer",
					"location": {
						"type": "query",
						"project": "General",
						"dataSource": "7B81473F-1901-FA3E-1BA8-7CDE24494373-19ab3499582-df49e742ae3e678",
						"query": "WITH entry_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT\r\n\t    \"id\",\r\n\t    \"date\",\r\n\t    \"type\",\r\n\t--    \"source_filename\",\r\n\t    \"source_lineno\"\r\n\t  FROM \"beancount\".\"entry\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT\r\n\t    \"id\",\r\n\t    \"date\",\r\n\t    \"type\",\r\n\t--    \"source_filename\",\r\n\t    \"source_lineno\"\r\n\t  FROM \"sqlite\".\"entry\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\")                    AS \"id\",\r\n\t  b.\"date\"            AS \"bc_date\",           s.\"date\"            AS \"sqlite_date\",\r\n\t  b.\"type\"            AS \"bc_type\",           s.\"type\"            AS \"sqlite_type\",\r\n\t--  b.\"source_filename\" AS \"bc_source_filename\",s.\"source_filename\" AS \"sqlite_source_filename\",\r\n\t  b.\"source_lineno\"   AS \"bc_source_lineno\",  s.\"source_lineno\"   AS \"sqlite_source_lineno\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"type\" not in (\u0027event\u0027,\u0027query\u0027) and\r\n\t\t( b.\"date\"            IS DISTINCT FROM s.\"date\"\r\n\t   OR b.\"type\"            IS DISTINCT FROM s.\"type\"\r\n\t--   OR b.\"source_filename\" IS DISTINCT FROM s.\"source_filename\"\r\n\t   OR b.\"source_lineno\"   IS DISTINCT FROM s.\"source_lineno\")\r\n\tORDER BY 1\r\n\r\n), transactions_detail_diffs AS (\t\r\n\r\n\tWITH\r\n\t\"b\" AS (\r\n\t  SELECT\r\n\t    \"id\",\r\n\t    \"flag\",\r\n\t    \"payee\",\r\n\t    \"narration\",\r\n\t    \"tags\",\r\n\t    \"links\"\r\n\t  FROM \"beancount\".\"transactions_detail\"\r\n\t),\r\n\t--\t\r\n\t\"s\" AS (\r\n\t  SELECT\r\n\t    \"id\",\r\n\t    \"flag\",\r\n\t    \"payee\",\r\n\t    \"narration\",\r\n\t    \"tags\",\r\n\t    \"links\"\r\n\t  FROM \"sqlite\".\"transactions_detail\"\r\n\t  )\r\n\t--\r\n\tSELECT\r\n\t  COALESCE(\"b\".\"id\", \"s\".\"id\") AS \"id\",\r\n\t  \"b\".\"flag\"      AS \"bc_flag\",      \"s\".\"flag\"      AS \"sqlite_flag\",\r\n\t  \"b\".\"payee\"     AS \"bc_payee\",     \"s\".\"payee\"     AS \"sqlite_payee\",\r\n\t  \"b\".\"narration\" AS \"bc_narration\", \"s\".\"narration\" AS \"sqlite_narration\",\r\n\t  \"b\".\"tags\"      AS \"bc_tags\",      \"s\".\"tags\"      AS \"sqlite_tags\",\r\n\t  \"b\".\"links\"     AS \"bc_links\",     \"s\".\"links\"     AS \"sqlite_links\"\r\n\tFROM \"b\"\r\n\tFULL OUTER JOIN \"s\" ON \"b\".\"id\" \u003d \"s\".\"id\"\r\n\tWHERE (\"b\".\"flag\"      IS DISTINCT FROM \"s\".\"flag\")\r\n\t   OR (\"b\".\"payee\"     IS DISTINCT FROM \"s\".\"payee\")\r\n\t   OR (\"b\".\"narration\" IS DISTINCT FROM \"s\".\"narration\")\r\n\t   OR (\"b\".\"tags\"      IS DISTINCT FROM \"s\".\"tags\")\r\n\t   OR (\"b\".\"links\"     IS DISTINCT FROM \"s\".\"links\")\r\n\tORDER BY 1\r\n\t\r\n), postings_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT\r\n\t    \"posting_id\",\r\n\t    \"id\",\r\n\t    \"flag\",\r\n\t    \"account\",\r\n\t    \"number\",\r\n\t    \"currency\",\r\n\t    \"cost_number\",\r\n\t    \"cost_currency\",\r\n\t    \"cost_date\",\r\n\t    \"cost_label\",\r\n\t    \"price_number\",\r\n\t    \"price_currency\"\r\n\t  FROM \"beancount\".\"postings\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT\r\n\t    \"posting_id\",\r\n\t    \"id\",\r\n\t    \"flag\",\r\n\t    \"account\",\r\n\t    \"number\",\r\n\t    \"currency\",\r\n\t    \"cost_number\",\r\n\t    \"cost_currency\",\r\n\t    \"cost_date\",\r\n\t    \"cost_label\",\r\n\t    \"price_number\",\r\n\t    \"price_currency\"\r\n\t  FROM \"sqlite\".\"postings\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"posting_id\", s.\"posting_id\")    AS \"posting_id\",\r\n\t  COALESCE(b.\"id\", s.\"id\")                    AS \"id\",\r\n\t  b.\"flag\"          AS \"bc_flag\",             s.\"flag\"          AS \"sqlite_flag\",\r\n\t  b.\"account\"       AS \"bc_account\",          s.\"account\"       AS \"sqlite_account\",\r\n\t  b.\"number\"        AS \"bc_number\",           s.\"number\"        AS \"sqlite_number\",\r\n\t  b.\"currency\"      AS \"bc_currency\",         s.\"currency\"      AS \"sqlite_currency\",\r\n\t  b.\"cost_number\"   AS \"bc_cost_number\",      s.\"cost_number\"   AS \"sqlite_cost_number\",\r\n\t  b.\"cost_currency\" AS \"bc_cost_currency\",    s.\"cost_currency\" AS \"sqlite_cost_currency\",\r\n\t  b.\"cost_date\"     AS \"bc_cost_date\",        s.\"cost_date\"     AS \"sqlite_cost_date\",\r\n\t  b.\"cost_label\"    AS \"bc_cost_label\",       s.\"cost_label\"    AS \"sqlite_cost_label\",\r\n\t  b.\"price_number\"  AS \"bc_price_number\",     s.\"price_number\"  AS \"sqlite_price_number\",\r\n\t  b.\"price_currency\"AS \"bc_price_currency\",   s.\"price_currency\"AS \"sqlite_price_currency\"\r\n\tFROM b\r\n\t FULL OUTER JOIN s ON b.\"posting_id\" \u003d s.\"posting_id\"\r\n\tWHERE b.\"id\"            IS DISTINCT FROM s.\"id\"\r\n\t   OR b.\"flag\"          IS DISTINCT FROM s.\"flag\"\r\n\t   OR b.\"account\"       IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"number\"        IS DISTINCT FROM s.\"number\"\r\n\t   OR b.\"currency\"      IS DISTINCT FROM s.\"currency\"\r\n\t   OR b.\"cost_number\"   IS DISTINCT FROM s.\"cost_number\"\r\n\t   OR b.\"cost_currency\" IS DISTINCT FROM s.\"cost_currency\"\r\n\t   OR b.\"cost_date\"     IS DISTINCT FROM s.\"cost_date\"\r\n\t   OR b.\"cost_label\"    IS DISTINCT FROM s.\"cost_label\"\r\n\t   OR b.\"price_number\"  IS DISTINCT FROM s.\"price_number\"\r\n\t   OR b.\"price_currency\"IS DISTINCT FROM s.\"price_currency\"\r\n\tORDER BY 1, 2\r\n\r\n), open_detail_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT \"id\", \"account\", \"currencies\"\r\n\t  FROM \"beancount\".\"open_detail\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT \"id\", \"account\", \"currencies\"\r\n\t  FROM \"sqlite\".\"open_detail\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\")        AS \"id\",\r\n\t  b.\"account\"      AS \"bc_account\",    s.\"account\"      AS \"sqlite_account\",\r\n\t  b.\"currencies\"   AS \"bc_currencies\", s.\"currencies\"   AS \"sqlite_currencies\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"account\"    IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"currencies\" IS DISTINCT FROM s.\"currencies\"\r\n\tORDER BY 1\r\n\r\n), close_detail_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT \"id\", \"account\" FROM \"beancount\".\"close_detail\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT \"id\", \"account\" FROM \"sqlite\".\"close_detail\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"account\" AS \"bc_account\",\r\n\t  s.\"account\" AS \"sqlite_account\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"account\" IS DISTINCT FROM s.\"account\"\r\n\tORDER BY 1\r\n\r\n), pad_detail_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT \"id\", \"account\", \"source_account\"\r\n\t  FROM \"beancount\".\"pad_detail\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT \"id\", \"account\", \"source_account\"\r\n\t  FROM \"sqlite\".\"pad_detail\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"account\"        AS \"bc_account\",        s.\"account\"        AS \"sqlite_account\",\r\n\t  b.\"source_account\" AS \"bc_source_account\",s.\"source_account\" AS \"sqlite_source_account\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"account\"        IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"source_account\" IS DISTINCT FROM s.\"source_account\"\r\n\tORDER BY 1\r\n\r\n), balance_detail_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT \"id\", \"account\", \"amount_number\", \"amount_currency\", \"diff_number\", \"diff_currency\"\r\n\t  FROM \"beancount\".\"balance_detail\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT \"id\", \"account\", \"amount_number\", \"amount_currency\", \"diff_number\", \"diff_currency\"\r\n\t  FROM \"sqlite\".\"balance_detail\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"account\"        AS \"bc_account\",        s.\"account\"        AS \"sqlite_account\",\r\n\t  b.\"amount_number\"  AS \"bc_amount_number\",  s.\"amount_number\"  AS \"sqlite_amount_number\",\r\n\t  b.\"amount_currency\"AS \"bc_amount_currency\",s.\"amount_currency\"AS \"sqlite_amount_currency\",\r\n\t  b.\"diff_number\"    AS \"bc_diff_number\",    s.\"diff_number\"    AS \"sqlite_diff_number\",\r\n\t  b.\"diff_currency\"  AS \"bc_diff_currency\",  s.\"diff_currency\"  AS \"sqlite_diff_currency\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"account\"         IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"amount_number\"   IS DISTINCT FROM s.\"amount_number\"\r\n\t   OR b.\"amount_currency\" IS DISTINCT FROM s.\"amount_currency\"\r\n\t   OR b.\"diff_number\"     IS DISTINCT FROM s.\"diff_number\"\r\n\t   OR b.\"diff_currency\"   IS DISTINCT FROM s.\"diff_currency\"\r\n\tORDER BY 1\r\n\r\n), note_detail_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT \"id\", \"account\", \"comment\" FROM \"beancount\".\"note_detail\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT \"id\", \"account\", \"comment\" FROM \"sqlite\".\"note_detail\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"account\" AS \"bc_account\", s.\"account\" AS \"sqlite_account\",\r\n\t  b.\"comment\" AS \"bc_comment\", s.\"comment\" AS \"sqlite_comment\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"account\" IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"comment\" IS DISTINCT FROM s.\"comment\"\r\n\tORDER BY 1\r\n\r\n), document_detail_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT \"id\", \"account\", \"filenam\" FROM \"beancount\".\"document_detail\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT \"id\", \"account\", \"filenam\" FROM \"sqlite\".\"document_detail\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"account\" AS \"bc_account\", s.\"account\" AS \"sqlite_account\",\r\n\t  b.\"filenam\" AS \"bc_filename\", s.\"filenam\" AS \"sqlite_filename\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"account\" IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"filenam\" IS DISTINCT FROM s.\"filenam\"\r\n\tORDER BY 1\r\n\r\n), price_detail_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT \"id\", \"currency\", \"amount_number\", \"amount_currency\"\r\n\t  FROM \"beancount\".\"price_detail\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT \"id\", \"currency\", \"amount_number\", \"amount_currency\"\r\n\t  FROM \"sqlite\".\"price_detail\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"currency\"        AS \"bc_currency\",        s.\"currency\"        AS \"sqlite_currency\",\r\n\t  b.\"amount_number\"   AS \"bc_amount_number\",   s.\"amount_number\"   AS \"sqlite_amount_number\",\r\n\t  b.\"amount_currency\" AS \"bc_amount_currency\", s.\"amount_currency\" AS \"sqlite_amount_currency\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"currency\"        IS DISTINCT FROM s.\"currency\"\r\n\t   OR b.\"amount_number\"   IS DISTINCT FROM s.\"amount_number\"\r\n\t   OR b.\"amount_currency\" IS DISTINCT FROM s.\"amount_currency\"\r\n\tORDER BY 1\r\n\r\n\r\n/*****************************\r\n * Differences Between Views *\r\n *****************************/\r\n\r\n), transactions_view_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"flag\"\r\n\t  ,\"payee\"\r\n\t  ,\"narration\"\r\n\t  ,\"tags\"\r\n\t  ,\"links\"\r\n\t  FROM \"beancount\".\"transactions\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"flag\"\r\n\t  ,\"payee\"\r\n\t  ,\"narration\"\r\n\t  ,\"tags\"\r\n\t  ,\"links\"\r\n\t  FROM \"sqlite\".\"transactions\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"date\"            AS \"bc_date\",            s.\"date\"            AS \"sqlite_date\",\r\n\t  b.\"type\"            AS \"bc_type\",            s.\"type\"            AS \"sqlite_type\",\r\n\t--  b.\"source_filename\" AS \"bc_source_filename\", s.\"source_filename\" AS \"sqlite_source_filename\",\r\n\t  b.\"source_lineno\"   AS \"bc_source_lineno\",   s.\"source_lineno\"   AS \"sqlite_source_lineno\",\r\n\t  b.\"flag\"            AS \"bc_flag\",            s.\"flag\"            AS \"sqlite_flag\",\r\n\t  b.\"payee\"           AS \"bc_payee\",           s.\"payee\"           AS \"sqlite_payee\",\r\n\t  b.\"narration\"       AS \"bc_narration\",       s.\"narration\"       AS \"sqlite_narration\",\r\n\t  b.\"tags\"            AS \"bc_tags\",            s.\"tags\"            AS \"sqlite_tags\",\r\n\t  b.\"links\"           AS \"bc_links\",           s.\"links\"           AS \"sqlite_links\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"date\"            IS DISTINCT FROM s.\"date\"\r\n\t   OR b.\"type\"            IS DISTINCT FROM s.\"type\"\r\n\t--   OR b.\"source_filename\" IS DISTINCT FROM s.\"source_filename\"\r\n\t   OR b.\"source_lineno\"   IS DISTINCT FROM s.\"source_lineno\"\r\n\t   OR b.\"flag\"            IS DISTINCT FROM s.\"flag\"\r\n\t   OR b.\"payee\"           IS DISTINCT FROM s.\"payee\"\r\n\t   OR b.\"narration\"       IS DISTINCT FROM s.\"narration\"\r\n\t   OR b.\"tags\"            IS DISTINCT FROM s.\"tags\"\r\n\t   OR b.\"links\"           IS DISTINCT FROM s.\"links\"\r\n\tORDER BY 1\r\n\r\n), open_view_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  ,\"currencies\"\r\n\t  FROM \"beancount\".\"open\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  ,\"currencies\"\r\n\t  FROM \"sqlite\".\"open\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"date\"            AS \"bc_date\",            s.\"date\"            AS \"sqlite_date\",\r\n\t  b.\"type\"            AS \"bc_type\",            s.\"type\"            AS \"sqlite_type\",\r\n\t--  b.\"source_filename\" AS \"bc_source_filename\", s.\"source_filename\" AS \"sqlite_source_filename\",\r\n\t  b.\"source_lineno\"   AS \"bc_source_lineno\",   s.\"source_lineno\"   AS \"sqlite_source_lineno\",\r\n\t  b.\"account\"         AS \"bc_account\",         s.\"account\"         AS \"sqlite_account\",\r\n\t  b.\"currencies\"      AS \"bc_currencies\",      s.\"currencies\"      AS \"sqlite_currencies\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"date\"            IS DISTINCT FROM s.\"date\"\r\n\t   OR b.\"type\"            IS DISTINCT FROM s.\"type\"\r\n\t--   OR b.\"source_filename\" IS DISTINCT FROM s.\"source_filename\"\r\n\t   OR b.\"source_lineno\"   IS DISTINCT FROM s.\"source_lineno\"\r\n\t   OR b.\"account\"         IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"currencies\"      IS DISTINCT FROM s.\"currencies\"\r\n\tORDER BY 1\r\n\r\n), close_view_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  FROM \"beancount\".\"close\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  FROM \"sqlite\".\"close\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"date\"            AS \"bc_date\",            s.\"date\"            AS \"sqlite_date\",\r\n\t  b.\"type\"            AS \"bc_type\",            s.\"type\"            AS \"sqlite_type\",\r\n\t--  b.\"source_filename\" AS \"bc_source_filename\", s.\"source_filename\" AS \"sqlite_source_filename\",\r\n\t  b.\"source_lineno\"   AS \"bc_source_lineno\",   s.\"source_lineno\"   AS \"sqlite_source_lineno\",\r\n\t  b.\"account\"         AS \"bc_account\",         s.\"account\"         AS \"sqlite_account\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"date\"            IS DISTINCT FROM s.\"date\"\r\n\t   OR b.\"type\"            IS DISTINCT FROM s.\"type\"\r\n\t--   OR b.\"source_filename\" IS DISTINCT FROM s.\"source_filename\"\r\n\t   OR b.\"source_lineno\"   IS DISTINCT FROM s.\"source_lineno\"\r\n\t   OR b.\"account\"         IS DISTINCT FROM s.\"account\"\r\n\tORDER BY 1\r\n\r\n), pad_view_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  ,\"source_account\"\r\n\t  FROM \"beancount\".\"pad\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  ,\"source_account\"\r\n\t  FROM \"sqlite\".\"pad\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"date\"            AS \"bc_date\",            s.\"date\"            AS \"sqlite_date\",\r\n\t  b.\"type\"            AS \"bc_type\",            s.\"type\"            AS \"sqlite_type\",\r\n\t--  b.\"source_filename\" AS \"bc_source_filename\", s.\"source_filename\" AS \"sqlite_source_filename\",\r\n\t  b.\"source_lineno\"   AS \"bc_source_lineno\",   s.\"source_lineno\"   AS \"sqlite_source_lineno\",\r\n\t  b.\"account\"         AS \"bc_account\",         s.\"account\"         AS \"sqlite_account\",\r\n\t  b.\"source_account\"  AS \"bc_source_account\",  s.\"source_account\"  AS \"sqlite_source_account\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"date\"            IS DISTINCT FROM s.\"date\"\r\n\t   OR b.\"type\"            IS DISTINCT FROM s.\"type\"\r\n\t--   OR b.\"source_filename\" IS DISTINCT FROM s.\"source_filename\"\r\n\t   OR b.\"source_lineno\"   IS DISTINCT FROM s.\"source_lineno\"\r\n\t   OR b.\"account\"         IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"source_account\"  IS DISTINCT FROM s.\"source_account\"\r\n\tORDER BY 1\r\n\r\n), balance_view_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  ,\"amount_number\"\r\n\t  ,\"amount_currency\"\r\n\t  ,\"diff_number\"\r\n\t  ,\"diff_currency\"\r\n\t  FROM \"beancount\".\"balance\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  ,\"amount_number\"\r\n\t  ,\"amount_currency\"\r\n\t  ,\"diff_number\"\r\n\t  ,\"diff_currency\"\r\n\t  FROM \"sqlite\".\"balance\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"date\"            AS \"bc_date\",            s.\"date\"            AS \"sqlite_date\",\r\n\t  b.\"type\"            AS \"bc_type\",            s.\"type\"            AS \"sqlite_type\",\r\n\t--  b.\"source_filename\" AS \"bc_source_filename\", s.\"source_filename\" AS \"sqlite_source_filename\",\r\n\t  b.\"source_lineno\"   AS \"bc_source_lineno\",   s.\"source_lineno\"   AS \"sqlite_source_lineno\",\r\n\t  b.\"account\"         AS \"bc_account\",         s.\"account\"         AS \"sqlite_account\",\r\n\t  b.\"amount_number\"   AS \"bc_amount_number\",   s.\"amount_number\"   AS \"sqlite_amount_number\",\r\n\t  b.\"amount_currency\" AS \"bc_amount_currency\", s.\"amount_currency\" AS \"sqlite_amount_currency\",\r\n\t  b.\"diff_number\"     AS \"bc_diff_number\",     s.\"diff_number\"     AS \"sqlite_diff_number\",\r\n\t  b.\"diff_currency\"   AS \"bc_diff_currency\",   s.\"diff_currency\"   AS \"sqlite_diff_currency\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"date\"            IS DISTINCT FROM s.\"date\"\r\n\t   OR b.\"type\"            IS DISTINCT FROM s.\"type\"\r\n\t--   OR b.\"source_filename\" IS DISTINCT FROM s.\"source_filename\"\r\n\t   OR b.\"source_lineno\"   IS DISTINCT FROM s.\"source_lineno\"\r\n\t   OR b.\"account\"         IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"amount_number\"   IS DISTINCT FROM s.\"amount_number\"\r\n\t   OR b.\"amount_currency\" IS DISTINCT FROM s.\"amount_currency\"\r\n\t   OR b.\"diff_number\"     IS DISTINCT FROM s.\"diff_number\"\r\n\t   OR b.\"diff_currency\"   IS DISTINCT FROM s.\"diff_currency\"\r\n\tORDER BY 1\r\n\r\n), note_view_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  ,\"comment\"\r\n\t  FROM \"beancount\".\"note\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"account\"\r\n\t  ,\"comment\"  \r\n\t  FROM \"sqlite\".\"note\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"date\"            AS \"bc_date\",            s.\"date\"            AS \"sqlite_date\",\r\n\t  b.\"type\"            AS \"bc_type\",            s.\"type\"            AS \"sqlite_type\",\r\n\t--  b.\"source_filename\" AS \"bc_source_filename\", s.\"source_filename\" AS \"sqlite_source_filename\",\r\n\t  b.\"source_lineno\"   AS \"bc_source_lineno\",   s.\"source_lineno\"   AS \"sqlite_source_lineno\",\r\n\t  b.\"account\"         AS \"bc_account\",         s.\"account\"         AS \"sqlite_account\",\r\n\t  b.\"comment\"         AS \"bc_comment\",         s.\"comment\"         AS \"sqlite_comment\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"date\"            IS DISTINCT FROM s.\"date\"\r\n\t   OR b.\"type\"            IS DISTINCT FROM s.\"type\"\r\n\t--   OR b.\"source_filename\" IS DISTINCT FROM s.\"source_filename\"\r\n\t   OR b.\"source_lineno\"   IS DISTINCT FROM s.\"source_lineno\"\r\n\t   OR b.\"account\"         IS DISTINCT FROM s.\"account\"\r\n\t   OR b.\"comment\"         IS DISTINCT FROM s.\"comment\"\r\n\tORDER BY 1\r\n\r\n), price_view_diffs AS (\r\n\r\n\tWITH b AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"currency\"\r\n\t  ,\"amount_number\"\r\n\t  ,\"amount_currency\"\r\n\t  FROM \"beancount\".\"price\"\r\n\t),\r\n\ts AS (\r\n\t  SELECT\r\n\t    \"id\"\r\n\t  ,\"date\"\r\n\t  ,\"type\"\r\n\t--  ,\"source_filename\"\r\n\t  ,\"source_lineno\"\r\n\t  ,\"currency\"\r\n\t  ,\"amount_number\"\r\n\t  ,\"amount_currency\"\r\n\t  FROM \"sqlite\".\"price\"\r\n\t)\r\n\tSELECT\r\n\t  COALESCE(b.\"id\", s.\"id\") AS \"id\",\r\n\t  b.\"date\"            AS \"bc_date\",            s.\"date\"            AS \"sqlite_date\",\r\n\t  b.\"type\"            AS \"bc_type\",            s.\"type\"            AS \"sqlite_type\",\r\n\t--  b.\"source_filename\" AS \"bc_source_filename\", s.\"source_filename\" AS \"sqlite_source_filename\",\r\n\t  b.\"source_lineno\"   AS \"bc_source_lineno\",   s.\"source_lineno\"   AS \"sqlite_source_lineno\",\r\n\t  b.\"currency\"        AS \"bc_currency\",        s.\"currency\"        AS \"sqlite_currency\",\r\n\t  b.\"amount_number\"   AS \"bc_amount_number\",   s.\"amount_number\"   AS \"sqlite_amount_number\",\r\n\t  b.\"amount_currency\" AS \"bc_amount_currency\", s.\"amount_currency\" AS \"sqlite_amount_currency\"\r\n\tFROM b\r\n\tFULL OUTER JOIN s ON b.\"id\" \u003d s.\"id\"\r\n\tWHERE b.\"date\"            IS DISTINCT FROM s.\"date\"\r\n\t   OR b.\"type\"            IS DISTINCT FROM s.\"type\"\r\n\t--   OR b.\"source_filename\" IS DISTINCT FROM s.\"source_filename\"\r\n\t   OR b.\"source_lineno\"   IS DISTINCT FROM s.\"source_lineno\"\r\n\t   OR b.\"currency\"        IS DISTINCT FROM s.\"currency\"\r\n\t   OR b.\"amount_number\"   IS DISTINCT FROM s.\"amount_number\"\r\n\t   OR b.\"amount_currency\" IS DISTINCT FROM s.\"amount_currency\"\r\n\tORDER BY 1\r\n\r\n)\t\t\tSELECT \u0027entry\u0027\tas \"name\", \t\t\u0027table\u0027 as \"type\", count(*) as \"num_diffs\" FROM entry_diffs\r\nunion all \tSELECT \u0027transactions_detail\u0027,\t\u0027table\u0027\tas \"type\", count(*) as \"num_diffs\" FROM transactions_detail_diffs\r\nunion all\tSELECT \u0027postings\u0027,\t\t\t\t\u0027table\u0027 as \"type\", count(*) as \"num_diffs\" FROM postings_diffs\r\nunion all\tSELECT \u0027open_detail\u0027,\t\t\t\u0027table\u0027 as \"type\", count(*) as \"num_diffs\" FROM open_detail_diffs\r\nunion all\tSELECT \u0027close_detail\u0027,\t\t\t\u0027table\u0027 as \"type\", count(*) as \"num_diffs\" FROM close_detail_diffs\r\nunion all\tSELECT \u0027pad_detail\u0027,\t\t\t\u0027table\u0027 as \"type\", count(*) as \"num_diffs\" FROM pad_detail_diffs\r\nunion all\tSELECT \u0027balance_detail\u0027,\t\t\u0027table\u0027 as \"type\", count(*) as \"num_diffs\" FROM balance_detail_diffs\r\nunion all\tSELECT \u0027note_detail\u0027,\t\t\t\u0027table\u0027 as \"type\", count(*) as \"num_diffs\" FROM note_detail_diffs\r\nunion all\tSELECT \u0027document_detail\u0027,\t\t\u0027table\u0027 as \"type\", count(*) as \"num_diffs\" FROM document_detail_diffs\r\nunion all\tSELECT \u0027price_detail\u0027,\t\t\t\u0027table\u0027 as \"type\", count(*) as \"num_diffs\" FROM price_detail_diffs\r\nunion all\tSELECT \u0027transactions\u0027,\t\t\t\u0027view\u0027  as \"type\", count(*) as \"num_diffs\" FROM transactions_view_diffs\r\nunion all\tSELECT \u0027open\u0027,\t\t\t\t\t\u0027view\u0027  as \"type\", count(*) as \"num_diffs\" FROM open_view_diffs\r\nunion all\tSELECT \u0027close\u0027,\t\t\t\t\t\u0027view\u0027  as \"type\", count(*) as \"num_diffs\" FROM close_view_diffs\r\nunion all\tSELECT \u0027pad\u0027,\t\t\t\t\t\u0027view\u0027  as \"type\", count(*) as \"num_diffs\" FROM pad_view_diffs\r\nunion all\tSELECT \u0027balance\u0027,\t\t\t\t\u0027view\u0027  as \"type\", count(*) as \"num_diffs\" FROM balance_view_diffs\r\nunion all\tSELECT \u0027note\u0027,\t\t\t\t\t\u0027view\u0027  as \"type\", count(*) as \"num_diffs\" FROM note_view_diffs\r\nunion all\tSELECT \u0027price\u0027,\t\t\t\t\t\u0027view\u0027  as \"type\", count(*) as \"num_diffs\" FROM price_view_diffs\r\n"
					}
				}
			],
			"consumers": [
				{
					"type": "streamTransferConsumer"
				},
				{
					"type": "streamTransferConsumer"
				}
			],
			"configuration": {
				"maxJobCount": 1,
				"showFinalMessage": true,
				"DatabaseTransferProducer": {
					"extractType": "SINGLE_QUERY",
					"segmentSize": 100000,
					"fetchSize": 10000,
					"openNewConnections": false,
					"queryRowCount": false,
					"selectedColumnsOnly": false,
					"selectedRowsOnly": false
				},
				"StreamTransferConsumer": {
					"lobExtractType": "INLINE",
					"lobEncoding": "BINARY",
					"dataFileConflictBehavior": "PATCHNAME",
					"blobFileConflictBehavior": "PATCHNAME",
					"outputFolder": "${workspace}/../jdbc/src/test/resources/regression/results",
					"outputFilePattern": "${db_name}_diff",
					"outputEncoding": "UTF-8",
					"outputTimestampPattern": "yyyyMMddHHmm",
					"outputEncodingBOM": false,
					"outputClipboard": false,
					"useSingleFile": false,
					"compressResults": false,
					"splitOutFiles": false,
					"maxOutFileSize": 10000000,
					"formatterProfile": "",
					"valueFormat": "UI",
					"eventProcessors": {}
				},
				"producer": "database_producer",
				"consumer": "stream_consumer",
				"processor": "stream.csv",
				"processors": {
					"stream_consumer:stream.csv": {
						"@propNames": "quoteChar,rowDelimiter,extension,headerFormat,delimiter,header,formatArray,formatNumbers,quoteAlways,headerCase,quoteNever,escape,",
						"quoteChar": "\"",
						"rowDelimiter": "default",
						"extension": "csv",
						"headerFormat": "label",
						"delimiter": ",",
						"header": "top",
						"formatArray": "{ }",
						"formatNumbers": "false",
						"quoteAlways": "disabled",
						"headerCase": "as is",
						"quoteNever": "false",
						"escape": "quotes"
					}
				}
			},
			"taskContext": {
				"defaultSchema": "beancount",
				"autoCommit": true,
				"transactionIsolation": 0
			},
			"taskVariables": {
				"workspace": "/mnt/c/Users/jacob-walker/Documents/GitHub/beancount-jdbc/.dbeaver-workspace-test",
				"db_name": "2018"
			}
		}
	}
}